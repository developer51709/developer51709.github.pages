<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Discord Announcement Sender</title>

  <!-- Discord-like font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #1e1f22;
      color: #fff;
      margin: 0;
      padding: 20px;
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .panel {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(12px);
      padding: 20px;
      border-radius: 12px;
      flex: 1;
      min-width: 300px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
    }

    input, textarea, select, button {
      width: 100%;
      margin-bottom: 12px;
      padding: 10px;
      border-radius: 8px;
      border: none;
      background: #2b2d31;
      color: white;
      font-size: 14px;
    }

    button {
      background: #5865F2;
      cursor: pointer;
      font-weight: 600;
    }

    button:hover {
      background: #4752C4;
    }

    /* Discord embed preview */
    .embed {
      background: #2b2d31;
      border-left: 4px solid #5865F2;
      padding: 16px;
      border-radius: 4px;
      max-width: 100%;
      word-wrap: break-word;
      font-size: 14px;
      line-height: 1.3;
    }

    .embed-title {
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 6px;
    }

    .embed-description {
      white-space: pre-line;
      margin-bottom: 10px;
      color: #dcddde;
    }

    .embed-thumbnail {
      float: right;
      width: 80px;
      height: 80px;
      border-radius: 4px;
      object-fit: cover;
      margin-left: 10px;
    }

    .embed-image {
      max-width: 100%;
      border-radius: 4px;
      margin-top: 10px;
    }

    .embed-footer {
      font-size: 12px;
      color: #b9bbbe;
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .embed-footer img {
      width: 20px;
      height: 20px;
      border-radius: 50%;
    }

    @media (max-width: 700px) {
      body {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

<div class="panel">
  <h2>Announcement Builder</h2>

  <input id="webhook" placeholder="Webhook URL">

  <input id="title" placeholder="Embed Title" oninput="updatePreview()">
  <textarea id="description" placeholder="Embed Description" oninput="updatePreview()"></textarea>

  <select id="presetColor" onchange="applyPresetColor()">
    <option value="">Choose a preset colorâ€¦</option>
    <option value="#5865F2">Discord Blurple</option>
    <option value="#57F287">Green</option>
    <option value="#ED4245">Red</option>
    <option value="#FEE75C">Gold</option>
    <option value="#EB459E">Pink</option>
  </select>

  <input id="color" placeholder="Custom Color (hex)" oninput="updatePreview()">

  <input id="thumbnail" placeholder="Thumbnail URL" oninput="updatePreview()">
  <input id="image" placeholder="Image URL" oninput="updatePreview()">
  <input id="footer" placeholder="Footer Text" oninput="updatePreview()">
  <input id="footerIcon" placeholder="Footer Icon URL" oninput="updatePreview()">

  <button onclick="sendEmbed()">Send Announcement</button>
</div>

<div class="panel">
  <h2>Live Preview</h2>

  <div class="embed" id="embedPreview">
    <img id="pThumbnail" class="embed-thumbnail" style="display:none;">
    <div class="embed-title" id="pTitle">Your title here</div>
    <div class="embed-description" id="pDescription">Your description here</div>
    <img id="pImage" class="embed-image" style="display:none;">
    <div class="embed-footer" id="pFooter"></div>
  </div>
</div>

<script>
function updatePreview() {
    const title = document.getElementById("title").value;
    const desc = document.getElementById("description").value;
    const color = document.getElementById("color").value;
    const thumbnail = document.getElementById("thumbnail").value;
    const image = document.getElementById("image").value;
    const footer = document.getElementById("footer").value;
    const footerIcon = document.getElementById("footerIcon").value;

    document.getElementById("pTitle").textContent = title || "Your title here";
    document.getElementById("pDescription").textContent = desc || "Your description here";

    if (color) {
        document.querySelector(".embed").style.borderColor = color;
    }

    const thumb = document.getElementById("pThumbnail");
    if (thumbnail) {
        thumb.src = thumbnail;
        thumb.style.display = "block";
    } else {
        thumb.style.display = "none";
    }

    const img = document.getElementById("pImage");
    if (image) {
        img.src = image;
        img.style.display = "block";
    } else {
        img.style.display = "none";
    }

    const footerEl = document.getElementById("pFooter");
    footerEl.innerHTML = "";

    if (footerIcon) {
        const icon = document.createElement("img");
        icon.src = footerIcon;
        footerEl.appendChild(icon);
    }

    if (footer) {
        const text = document.createElement("span");
        text.textContent = footer;
        footerEl.appendChild(text);
    }
}

function applyPresetColor() {
    const preset = document.getElementById("presetColor").value;
    if (preset) {
        document.getElementById("color").value = preset;
        updatePreview();
    }
}

function sendEmbed() {
    const webhook = document.getElementById("webhook").value;

    const embed = {
        title: document.getElementById("title").value,
        description: document.getElementById("description").value,
        color: parseInt(document.getElementById("color").value.replace("#", ""), 16),
        thumbnail: { url: document.getElementById("thumbnail").value || null },
        image: { url: document.getElementById("image").value || null },
        footer: {
            text: document.getElementById("footer").value,
            icon_url: document.getElementById("footerIcon").value || null
        }
    };

    fetch(webhook, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ embeds: [embed] })
    })
    .then(() => alert("Announcement sent"))
    .catch(err => alert("Error: " + err));
}
</script>

</body>
</html>
